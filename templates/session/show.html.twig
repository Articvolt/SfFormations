{% extends 'base.html.twig' %}

{% block title %}Détail de {{ session.intitule }}{% endblock %}

{% block body %}

    <h1>{{ session.intitule }}</h1>

    <section class="sectionDescription">
        <h2>Informations complémentaires</h2>

        <h3>Formateur référent </h3>
        <p><a class="linkAnchor" href="{{ path('show_formateur', {'id': session.formateur.id})}}">{{ session.formateur }}</a></p>

        <h3>durée : </h3>
        <p>{{ session.dateDebut|date("d/m/Y") ~' au '~ session.dateFin|date("d/m/Y")  }}</p>
    </section>
     
    <section>
        <h2>Modules</h2>

        {% if session.programmers | length == 0 %}
            
        <p class="noEntry"><i class="fa-solid fa-triangle-exclamation"></i> Il n'y a pas de modules dans cette session <i class="fa-solid fa-triangle-exclamation"></i></p>

        {% else %}
            <table>
                <thead>
                    <tr>
                        <th>MODULE</th>
                        <th>DUREE</th>
                        <th>OPTIONS</th>
                    </tr>
                </thead>
                <tbody>
            {% for programme in session.programmers %}
                  <tr>
                    <td>{{programme.module.nomModule}}</td>
                    <td>({{programme.duree}} heures)</td>
                    <td>
                        <i class="fa-solid fa-trash"></i>
                    </td>
                  </tr>             
            {% endfor %}
                </tbody>
            </table>
        {% endif %}
        
        <br>
    
        <p class="noEntry">
            <button class="noEntryButton">
                <a href="">Ajouter un module</a>
            </button>
        </p>

       
    </section>


    <section>
        <h2>Stagiaires inscrits</h2>

        {% if session.stagiaires | length == 0 %}
            
        <p class="noEntry"><i class="fa-solid fa-triangle-exclamation"></i> Aucun stagiaire d'inscrits <i class="fa-solid fa-triangle-exclamation"></i></p>
    
        {% else %}
        <table>
            <thead>
                <tr>
                    <th>STAGIAIRE</th>
                    <th>TELEPHONE</th>
                    <th>ADRESSE MAIL</th>
                    <th>ADRESSE</th>
                </tr>
            </thead>
            <tbody>
                {% for stagiaire in session.stagiaires %}
                    <tr>
                        <td>{{stagiaire.prenom ~' '~ stagiaire.nom}}</td>
                        <td>{{ stagiaire.phone }}</td>
                        <td>{{ stagiaire.mail }}</td>
                        <td>{{ stagiaire.adress ~' '~ stagiaire.cp ~' '~ stagiaire.city }}</td>
                    </tr> 
                {% endfor %}
            </tbody>
        </table>

        {% endif %}
    </section>


{% endblock %}